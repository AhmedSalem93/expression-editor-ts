<div class="app-container">
  <!-- Header -->
  <div class="app-header">
    <h1>Enhanced Expression Editor Test Suite</h1>
    <p>
      Comprehensive testing for expressions, variables, and type-aware
      validation
    </p>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- General Context Section -->
    <div class="test-section general-section">
      <div class="section-header">
        <h2>‚öôÔ∏è General Context with Variables & Lambda Functions</h2>
        <p>
          Flexible expression editor supporting lambda functions, variables, and
          all expression types
        </p>
      </div>

      <div class="editor-container">
        <lib-expression-editor
          [(ngModel)]="generalExpression"
          [editorConfig]="generalConfig"
          (fieldMappingChange)="onFieldMappingChange($event)"
          (validationChange)="onGeneralValidationChange($event)"
        ></lib-expression-editor>
      </div>

      <div class="examples-section">
        <h4>Click to try examples:</h4>

        <!-- Lambda Function Examples -->
        <div class="example-category">
          <h5>üî∏ Lambda Functions</h5>
          <div class="examples-grid">
            <button
              class="example-btn lambda-btn"
              (click)="selectGeneralExample('(x, y) => x + y')"
            >
              (x, y) => x + y
            </button>
            <button
              class="example-btn lambda-btn"
              (click)="
                selectGeneralExample('(price, quantity) => price * quantity')
              "
            >
              (price, quantity) => price * quantity
            </button>
            <button
              class="example-btn lambda-btn"
              (click)="selectGeneralExample('x => x * x')"
            >
              x => x * x
            </button>
            <button
              class="example-btn lambda-btn"
              (click)="selectGeneralExample('(a, b) => Math.max(a, b)')"
            >
              (a, b) => Math.max(a, b)
            </button>
          </div>
        </div>

        <!-- Boolean Examples -->
        <div class="example-category">
          <h5>üî∏ Boolean Expressions</h5>
          <div class="examples-grid">
            <button
              class="example-btn boolean-btn"
              (click)="selectGeneralExample('temperature > 25')"
            >
              temperature > 25
            </button>
            <button
              class="example-btn boolean-btn"
              (click)="selectGeneralExample('status == &quot;active&quot;')"
            >
              status == "active"
            </button>
            <button
              class="example-btn boolean-btn"
              (click)="selectGeneralExample('isEnabled && hasPermission')"
            >
              isEnabled && hasPermission
            </button>
          </div>
        </div>

        <!-- Assignment Examples -->
        <div class="example-category">
          <h5>üî∏ Assignment Expressions</h5>
          <div class="examples-grid">
            <button
              class="example-btn connector-btn"
              (click)="selectGeneralExample('output.value = input.data')"
            >
              output.value = input.data
            </button>
            <button
              class="example-btn connector-btn"
              (click)="selectGeneralExample('result = transform(source)')"
            >
              result = transform(source)
            </button>
            <button
              class="example-btn connector-btn"
              (click)="selectGeneralExample('target.name = source.title')"
            >
              target.name = source.title
            </button>
          </div>
        </div>

        <!-- Arithmetic Examples -->
        <div class="example-category">
          <h5>üî∏ Arithmetic Expressions</h5>
          <div class="examples-grid">
            <button
              class="example-btn arithmetic-btn"
              (click)="selectGeneralExample('price * quantity')"
            >
              price * quantity
            </button>
            <button
              class="example-btn arithmetic-btn"
              (click)="selectGeneralExample('(a + b) / 2')"
            >
              (a + b) / 2
            </button>
            <button
              class="example-btn arithmetic-btn"
              (click)="selectGeneralExample('Math.sqrt(x * x + y * y)')"
            >
              Math.sqrt(x * x + y * y)
            </button>
          </div>
        </div>

        <!-- Variable Usage Examples -->
        <div class="example-category">
          <h5>üî∏ Variable Usage</h5>
          <div class="examples-grid">
            <button
              class="example-btn variable-btn"
              (click)="selectGeneralExample('price * quantity + tax')"
            >
              price * quantity + tax
            </button>
            <button
              class="example-btn variable-btn"
              (click)="
                selectGeneralExample(
                  'temperature > 25 ? &quot;hot&quot; : &quot;cold&quot;'
                )
              "
            >
              temperature > 25 ? "hot" : "cold"
            </button>
            <button
              class="example-btn variable-btn"
              (click)="
                selectGeneralExample('Math.round(price * quantity * 1.2)')
              "
            >
              Math.round(price * quantity * 1.2)
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Boolean Context Section -->
    <div class="test-section boolean-section">
      <div class="section-header">
        <h2>üîµ Boolean Context</h2>
      </div>

      <div class="editor-container">
        <lib-expression-editor
          [(ngModel)]="booleanExpression"
          (fieldMappingChange)="onFieldMappingChange($event)"
          [editorConfig]="booleanConfig"
          (validationChange)="onBooleanValidationChange($event)"
        ></lib-expression-editor>
      </div>

      <div class="examples-section">
        <h4>Click to try examples:</h4>
        <div class="examples-grid">
          <button
            *ngFor="let example of booleanExamples"
            class="example-btn boolean-btn"
            (click)="selectBooleanExample(example)"
          >
            {{ example }}
          </button>
        </div>
      </div>
    </div>

    <!-- Assignment Context Section -->
    <div class="test-section connector-section">
      <div class="section-header">
        <h2>üìã Assignment Context</h2>
      </div>

      <div class="editor-container">
        <lib-expression-editor
          [(ngModel)]="assignmentExpression"
          (fieldMappingChange)="onFieldMappingChange($event)"
          [editorConfig]="assignmentConfig"
          (validationChange)="onAssignmentValidationChange($event)"
        ></lib-expression-editor>
      </div>

      <div class="examples-section">
        <h4>Click to try examples:</h4>
        <div class="examples-grid">
          <button
            *ngFor="let example of assignmentExamples"
            class="example-btn connector-btn"
            (click)="selectAssignmentExample(example)"
          >
            {{ example }}
          </button>
        </div>
      </div>
    </div>

    <!-- Limited Connector Context Section -->
    <div class="test-section limited-connector-section">
      <div class="section-header">
        <h2>üü† Limited Connector Context</h2>
      </div>

      <div class="editor-container">
        <lib-expression-editor
          [(ngModel)]="limitedConnectorExpression"
          [editorConfig]="limitedConnectorConfig"
          (fieldMappingChange)="onFieldMappingChange($event)"
          (validationChange)="onLimitedConnectorValidationChange($event)"
          (configChange)="onLimitedConnectorConfigChange($event)"
        ></lib-expression-editor>
      </div>

      <div class="examples-section">
        <h4>Click to try examples:</h4>
        <div class="examples-grid">
          <button
            *ngFor="let example of limitedConnectorExamples"
            class="example-btn limited-connector-btn"
            (click)="selectLimitedConnectorExample(example)"
          >
            {{ example }}
          </button>
        </div>
      </div>
    </div>

    <!-- Arithmetic Context Section -->
    <div class="test-section arithmetic-section">
      <div class="section-header">
        <h2>üî¢ Arithmetic Context</h2>
      </div>

      <div class="editor-container">
        <lib-expression-editor
          [(ngModel)]="arithmeticExpression"
          (fieldMappingChange)="onFieldMappingChange($event)"
          [editorConfig]="arithmeticConfig"
          (validationChange)="onArithmeticValidationChange($event)"
        ></lib-expression-editor>
      </div>

      <div class="examples-section">
        <h4>Click to try examples:</h4>
        <div class="examples-grid">
          <button
            *ngFor="let example of arithmeticExamples"
            class="example-btn arithmetic-btn"
            (click)="selectArithmeticExample(example)"
          >
            {{ example }}
          </button>
        </div>
      </div>
    </div>

    <!-- Simple Mode -->
    <lib-expression-editor
  [(ngModel)]="expression"
  [simpleMode]="true"
  [editorConfig]="limitedConnectorConfig"
  [placeholder]="'Enter expression...'"
  [textareaStyle]="{
    borderColor: '#000000',        
    focusBorderColor: '#0056b3',  
    validBorderColor: '#28a745',   
    errorBorderColor: '#dc3545',  
    borderRadius: '6px',
    fontSize: '16px',
    padding: '10px 14px'
  }"
  (fieldMappingChange)="onFieldMappingChange($event)">
</lib-expression-editor>

  </div>
</div>